<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Overview"><title>massa_execution_exports - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="massa_execution_exports" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.1 (a28077b28 2023-12-04)" data-channel="1.74.1" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../massa_execution_exports/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../massa_execution_exports/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate massa_execution_exports</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 2.2.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">massa_execution_exports</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/massa_execution_exports/lib.rs.html#3-81">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="overview"><a href="#overview">Overview</a></h2>
<p>This crate provides all the facilities to interact with a running execution worker (massa-execution-worker crate)
that is in charge of executing operations in a virtual machine,
and applying the effects of the execution to a ledger.</p>
<h2 id="usage"><a href="#usage">Usage</a></h2>
<p>When an execution worker is launched to run in a separate thread for the whole duration of the process,
an instance of <code>ExecutionManager</code> is returned (see the documentation of <code>start_execution_worker</code> in <code>massa-execution-worker</code>),
as well as an instance of <code>ExecutionController</code>.</p>
<p>The non-clonable <code>ExecutionManager</code> allows stopping the execution worker thread.</p>
<p>The clonable <code>ExecutionController</code> allows sending updates on the latest blockclique changes to the execution worker
for it to keep track of them and execute the operations present in blocks.
It also allows various read-only queries such as executing bytecode
while ignoring all the changes it would cause to the consensus state (read-only execution),
or reading the state at the output of the executed blockclique blocks.</p>
<h2 id="architecture"><a href="#architecture">Architecture</a></h2><h3 id="configrs"><a href="#configrs"><code>config.rs</code></a></h3>
<p>Contains configuration parameters for the execution system.</p>
<h3 id="controller_traitsrs"><a href="#controller_traitsrs"><code>controller_traits.rs</code></a></h3>
<p>Defines the <code>ExecutionManager</code> and <code>ExecutionController</code> traits for interacting with the execution worker.</p>
<h3 id="errorsrs"><a href="#errorsrs"><code>errors.rs</code></a></h3>
<p>Defines error types for the crate.</p>
<h3 id="event_storers"><a href="#event_storers"><code>event_store.rs</code></a></h3>
<p>Defines an indexed, finite-size storage system for execution events.</p>
<h3 id="typesrs"><a href="#typesrs"><code>types.rs</code></a></h3>
<p>Defines useful shared structures.</p>
<h3 id="test-exports"><a href="#test-exports">Test exports</a></h3>
<p>When the crate feature <code>test-exports</code> is enabled, tooling useful for test-exports purposes is exported.
See <code>test_exports/mod.rs</code> for details.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="channels/index.html" title="mod massa_execution_exports::channels">channels</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="controller_traits/index.html" title="mod massa_execution_exports::controller_traits">controller_traits</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This module exports generic traits representing interfaces for interacting with the Execution worker</div></li><li><div class="item-name"><a class="mod" href="error/index.html" title="mod massa_execution_exports::error">error</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">this file defines all possible execution error categories</div></li><li><div class="item-name"><a class="mod" href="event_store/index.html" title="mod massa_execution_exports::event_store">event_store</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This module represents an event store allowing to store, search and retrieve
a config-limited number of execution-generated events</div></li><li><div class="item-name"><a class="mod" href="mapping_grpc/index.html" title="mod massa_execution_exports::mapping_grpc">mapping_grpc</a></div><div class="desc docblock-short">mapping grpc</div></li><li><div class="item-name"><a class="mod" href="settings/index.html" title="mod massa_execution_exports::settings">settings</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This module provides the structures used to provide configuration parameters to the Execution system</div></li><li><div class="item-name"><a class="mod" href="types/index.html" title="mod massa_execution_exports::types">types</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This file exports useful types used to interact with the execution worker</div></li><li><div class="item-name"><a class="mod" href="types_trace_info/index.html" title="mod massa_execution_exports::types_trace_info">types_trace_info</a></div><div class="desc docblock-short">types for execution-trace / execution-info</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.EventStore.html" title="struct massa_execution_exports::EventStore">EventStore</a></div><div class="desc docblock-short">Store for events emitted by smart contracts</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutedBlockInfo.html" title="struct massa_execution_exports::ExecutedBlockInfo">ExecutedBlockInfo</a></div><div class="desc docblock-short">structure storing a block id + network versions (from a block header)</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionAddressInfo.html" title="struct massa_execution_exports::ExecutionAddressInfo">ExecutionAddressInfo</a></div><div class="desc docblock-short">Execution info about an address</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionBlockMetadata.html" title="struct massa_execution_exports::ExecutionBlockMetadata">ExecutionBlockMetadata</a></div><div class="desc docblock-short">Metadata needed to execute the block</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionChannels.html" title="struct massa_execution_exports::ExecutionChannels">ExecutionChannels</a></div><div class="desc docblock-short">channels used by the execution worker</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionConfig.html" title="struct massa_execution_exports::ExecutionConfig">ExecutionConfig</a></div><div class="desc docblock-short">Execution module configuration</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionOutput.html" title="struct massa_execution_exports::ExecutionOutput">ExecutionOutput</a></div><div class="desc docblock-short">structure describing the output of a single execution</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionQueryCycleInfos.html" title="struct massa_execution_exports::ExecutionQueryCycleInfos">ExecutionQueryCycleInfos</a></div><div class="desc docblock-short">Information about cycles</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionQueryRequest.html" title="struct massa_execution_exports::ExecutionQueryRequest">ExecutionQueryRequest</a></div><div class="desc docblock-short">Request to atomically execute a batch of execution state queries</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionQueryResponse.html" title="struct massa_execution_exports::ExecutionQueryResponse">ExecutionQueryResponse</a></div><div class="desc docblock-short">Response to a list of execution queries</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionQueryStakerInfo.html" title="struct massa_execution_exports::ExecutionQueryStakerInfo">ExecutionQueryStakerInfo</a></div><div class="desc docblock-short">Staker information for a given cycle</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionStackElement.html" title="struct massa_execution_exports::ExecutionStackElement">ExecutionStackElement</a></div><div class="desc docblock-short">Structure describing an element of the execution stack.
Every time a function is called from bytecode,
a new <code>ExecutionStackElement</code> is pushed at the top of the execution stack
to represent the local execution context of the called function,
instead of the callerâ€™s which should lie just below in the stack.</div></li><li><div class="item-name"><a class="struct" href="struct.GasCosts.html" title="struct massa_execution_exports::GasCosts">GasCosts</a></div></li><li><div class="item-name"><a class="struct" href="struct.ReadOnlyCallRequest.html" title="struct massa_execution_exports::ReadOnlyCallRequest">ReadOnlyCallRequest</a></div><div class="desc docblock-short">structure describing a read-only call</div></li><li><div class="item-name"><a class="struct" href="struct.ReadOnlyExecutionOutput.html" title="struct massa_execution_exports::ReadOnlyExecutionOutput">ReadOnlyExecutionOutput</a></div><div class="desc docblock-short">structure describing the output of a read only execution</div></li><li><div class="item-name"><a class="struct" href="struct.ReadOnlyExecutionRequest.html" title="struct massa_execution_exports::ReadOnlyExecutionRequest">ReadOnlyExecutionRequest</a></div><div class="desc docblock-short">structure describing different types of read-only execution request</div></li><li><div class="item-name"><a class="struct" href="struct.StorageCostsConstants.html" title="struct massa_execution_exports::StorageCostsConstants">StorageCostsConstants</a></div><div class="desc docblock-short">Storage cost constants</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ExecutionError.html" title="enum massa_execution_exports::ExecutionError">ExecutionError</a></div><div class="desc docblock-short">Errors of the execution component.</div></li><li><div class="item-name"><a class="enum" href="enum.ExecutionQueryError.html" title="enum massa_execution_exports::ExecutionQueryError">ExecutionQueryError</a></div><div class="desc docblock-short">Execution query errors</div></li><li><div class="item-name"><a class="enum" href="enum.ExecutionQueryExecutionStatus.html" title="enum massa_execution_exports::ExecutionQueryExecutionStatus">ExecutionQueryExecutionStatus</a></div><div class="desc docblock-short">Execution status of an operation or denunciation</div></li><li><div class="item-name"><a class="enum" href="enum.ExecutionQueryRequestItem.html" title="enum massa_execution_exports::ExecutionQueryRequestItem">ExecutionQueryRequestItem</a></div><div class="desc docblock-short">Execution state query item</div></li><li><div class="item-name"><a class="enum" href="enum.ExecutionQueryResponseItem.html" title="enum massa_execution_exports::ExecutionQueryResponseItem">ExecutionQueryResponseItem</a></div><div class="desc docblock-short">Execution state query response item</div></li><li><div class="item-name"><a class="enum" href="enum.ReadOnlyExecutionTarget.html" title="enum massa_execution_exports::ReadOnlyExecutionTarget">ReadOnlyExecutionTarget</a></div><div class="desc docblock-short">structure describing different possible targets of a read-only execution request</div></li><li><div class="item-name"><a class="enum" href="enum.SlotExecutionOutput.html" title="enum massa_execution_exports::SlotExecutionOutput">SlotExecutionOutput</a></div><div class="desc docblock-short">structure describing the output of the execution of a slot</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ExecutionController.html" title="trait massa_execution_exports::ExecutionController">ExecutionController</a></div><div class="desc docblock-short">interface that communicates with the execution worker thread</div></li><li><div class="item-name"><a class="trait" href="trait.ExecutionManager.html" title="trait massa_execution_exports::ExecutionManager">ExecutionManager</a></div><div class="desc docblock-short">Execution manager used to stop the execution thread</div></li></ul></section></div></main></body></html>